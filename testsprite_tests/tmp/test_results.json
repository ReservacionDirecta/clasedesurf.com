[
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "a75cc080-f712-40d6-950e-bb41a150555b",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC001-User Registration with JWT Token Issuance",
    "description": "Verify that new users can register successfully and receive a valid JWT token and refresh token.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click on the 'Registrarse' button to open the registration modal to send a registration request with valid user data.\n        frame = context.pages[-1]\n        # Click on 'Registrarse' button to open registration modal for new user registration.\n        elem = frame.locator('xpath=html/body/header/div/div/div/a[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Dismiss or accept the cookie consent banner to enable interaction with the 'Crear Cuenta' button, then submit the registration form.\n        frame = context.pages[-1]\n        # Click 'Aceptar todas' button to accept cookies and dismiss the cookie consent banner.\n        elem = frame.locator('xpath=html/body/div[3]/div/div/div[2]/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Crear Cuenta' button to submit the registration form and trigger user registration.\n        frame = context.pages[-1]\n        # Click on 'Crear Cuenta' button to submit the registration form and register new user.\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Verify that the new user is created in the database and that valid JWT and refresh tokens are issued and returned.\n        await page.goto('http://localhost:3000/api/auth/tokens', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Return to the main page or user profile page to check if user is logged in and tokens are stored in cookies or local storage, or check for any UI indication of successful login and token issuance.\n        await page.goto('http://localhost:3000/', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Perform an authenticated action to confirm token validity and user session, such as navigating to the user dashboard or profile page.\n        frame = context.pages[-1]\n        # Click on 'Dashboard' link to navigate to user dashboard and verify authenticated access.\n        elem = frame.locator('xpath=html/body/header/div/div/nav/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=Â¡Hola, TestUser123! ðŸ„â€â™‚ï¸').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Dashboard').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Activo').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Principiante').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=No tienes clases prÃ³ximas').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Â¡Es hora de reservar tu siguiente aventura!').first).to_be_visible(timeout=30000)\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561504500569//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.595Z",
    "modified": "2026-01-28T15:30:13.643Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "56a78a8b-94ae-451a-8509-396554f2d3df",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC002-User Login with JWT Token Refresh Flow",
    "description": "Verify user login with correct credentials and the refresh token flow for renewing JWT tokens.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click the 'Reservar ahora' button to open the booking modal.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill participant details in the booking modal without logging in.\n        frame = context.pages[-1]\n        # Click 'Iniciar SesiÃ³n' button to open login modal for user login test\n        elem = frame.locator('xpath=html/body/header/div/div/div/a/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input valid username and password, then submit login form.\n        frame = context.pages[-1]\n        # Input valid username/email\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@test.com')\n        \n\n        frame = context.pages[-1]\n        # Input valid password\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n\n        frame = context.pages[-1]\n        # Click 'Iniciar SesiÃ³n' button to submit login form\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Login Successful').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: User login with correct credentials and refresh token flow did not succeed as expected. JWT tokens were not returned or validated.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561412036419//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.601Z",
    "modified": "2026-01-28T15:30:13.649Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "39969f7b-7740-4b7b-b958-be74519d0fca",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC003-Guest Checkout Account Creation and Notification",
    "description": "Verify guest checkout flow creates new user with generated credentials, sends welcome email, and returns auth token.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click the 'Reservar ahora' button to open the booking modal and start guest checkout.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Scroll down if needed and locate the email input field to enter an unused email for guest checkout.\n        await page.mouse.wheel(0, 300)\n        \n\n        # -> Scroll further down or search for the email input field to enter an unused email for guest checkout.\n        await page.mouse.wheel(0, 300)\n        \n\n        # -> Close or accept the cookie consent banner to clear the view and try to locate the email input field for guest checkout.\n        frame = context.pages[-1]\n        # Click 'Aceptar todas' button to accept cookies and close the banner\n        elem = frame.locator('xpath=html/body/div[3]/div/div/div[2]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Cerrar modal' button (index 67) to close the cookie preferences modal and reveal the booking form for guest email input.\n        frame = context.pages[-1]\n        # Click 'Cerrar modal' button to close cookie preferences modal\n        elem = frame.locator('xpath=html/body/div[4]/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Scroll down to locate the guest email input field to enter an unused email.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Click 'Aceptar todas' button (index 67) to accept cookies and close the banner, then locate the email input field for guest checkout.\n        frame = context.pages[-1]\n        # Click 'Aceptar todas' button to accept cookies and close banner\n        elem = frame.locator('xpath=html/body/div[3]/div/div/div[2]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Cerrar modal' button (index 67) to close the cookie preferences modal and reveal the booking form for guest email input.\n        frame = context.pages[-1]\n        # Click 'Cerrar modal' button to close cookie preferences modal\n        elem = frame.locator('xpath=html/body/div[4]/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Scroll up slightly to check if the guest email input field is above the current viewport or search for the email input field in the booking form.\n        await page.mouse.wheel(0, -200)\n        \n\n        # -> Scroll down further to locate the guest email input field in the booking modal.\n        await page.mouse.wheel(0, 300)\n        \n\n        # -> Click 'Aceptar todas' button (index 68) to accept cookies and close the banner, then locate the email input field for guest checkout.\n        frame = context.pages[-1]\n        # Click 'Aceptar todas' button to accept cookies and close banner\n        elem = frame.locator('xpath=html/body/div[3]/div/div/div[2]/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Reservar ahora' button (index 58) to attempt to complete booking as guest and see if system generates user and sends welcome email automatically.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to complete booking as guest\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=User creation successful').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Guest checkout flow did not create a new user with generated credentials, send welcome email, or return auth token as expected.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561656571805//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.614Z",
    "modified": "2026-01-28T15:30:13.655Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "81876f5a-0e40-4168-ab51-d6097ee3f717",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC004-Guest Checkout with Existing Email Error",
    "description": "Verify that guest checkout attempt with existing user email returns proper error response.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Open the booking modal by clicking the 'Reservar ahora' button to start guest checkout.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to open booking modal for guest checkout.\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill participant details with an existing user email to simulate guest checkout attempt.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Click participant dropdown to select 1 participant, then click 'Reservar ahora' to proceed to guest checkout form.\n        frame = context.pages[-1]\n        # Click participant dropdown to open selection options\n        elem = frame.locator('xpath=html/body/div[2]/div/div/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Focus on filling guest checkout form: select 1 participant from dropdown, then click 'Reservar ahora' to proceed to guest checkout form.\n        frame = context.pages[-1]\n        # Select 1 participant from dropdown\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/div[2]/div/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to proceed to guest checkout form\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill guest checkout form with full name, existing registered email (admin@test.com), age, and participants, then submit the form.\n        frame = context.pages[-1]\n        # Input full name in guest checkout form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Test User')\n        \n\n        frame = context.pages[-1]\n        # Input existing registered email in guest checkout form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@test.com')\n        \n\n        frame = context.pages[-1]\n        # Input age in guest checkout form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('30')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to submit guest checkout form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill the experience details form with sample data and submit to complete the guest checkout process.\n        frame = context.pages[-1]\n        # Input height in cm\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('170')\n        \n\n        frame = context.pages[-1]\n        # Input weight in kg\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('70')\n        \n\n        frame = context.pages[-1]\n        # Click 'SÃ© nadar' checkbox\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[3]/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Input medical condition details\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[4]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ej. LesiÃ³n antigua en hombro derecho...')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to submit experience details and continue\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        try:\n            await expect(page.locator('text=Guest checkout completed successfully')).to_be_visible(timeout=5000)\n        except AssertionError:\n            raise AssertionError('Test failed: Guest checkout attempt with existing user email did not return the expected error indicating the email already exists.')\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561996112518//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.620Z",
    "modified": "2026-01-28T15:30:13.663Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "29cd82ec-9f5d-43ee-abc0-c3c2ef6f0975",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC005-Class Browsing and Detailed Session Selection",
    "description": "Validate that users can browse classes and select sessions with accurate details including dates and times.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Open the booking modal by clicking the 'Reservar ahora' button to view session booking options.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to open booking modal for session selection.\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Proceed to open the booking modal and start guest checkout flow by filling participant details and completing reservation as guest.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to proceed to booking form for guest checkout.\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill participant details form with guest information and submit to complete guest checkout reservation.\n        frame = context.pages[-1]\n        # Input full name in participant details form.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Juan PÃ©rez')\n        \n\n        frame = context.pages[-1]\n        # Input email in participant details form.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('juan@ejemplo.com')\n        \n\n        frame = context.pages[-1]\n        # Input age in participant details form.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('25')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed with guest checkout.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in the experience customization form fields and proceed to next step in guest checkout.\n        frame = context.pages[-1]\n        # Input height in cm.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('170')\n        \n\n        frame = context.pages[-1]\n        # Input weight in kg.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('70')\n        \n\n        frame = context.pages[-1]\n        # Select 'SÃ© nadar' checkbox.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[3]/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Input medical condition details.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[4]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ninguna lesiÃ³n o condiciÃ³n mÃ©dica.')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next step in guest checkout.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Siguiente' button to proceed to the next step in the guest checkout booking process.\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next step in guest checkout.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Booking Completed Successfully! Congratulations')).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError('Test plan execution failed: Users could not browse classes and select sessions with accurate details including dates and times, or guest checkout flow did not complete successfully.')\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561580431827//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.626Z",
    "modified": "2026-01-28T15:30:13.670Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "e3075c23-bbda-482d-bab0-d44b5c085e6c",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC006-Multi-step Booking Flow with Participant Management",
    "description": "Test the booking modal workflow including participant data entry, session selection, and booking confirmation.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click the 'Reservar ahora' button to open the booking modal.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click the 'Reservar ahora' button to start booking a class session.\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Enter participant details for the single participant in the booking modal.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to proceed to participant details entry.\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Siguiente' button to validate participant data and proceed to booking confirmation.\n        frame = context.pages[-1]\n        # Click the 'Siguiente' button to validate participant data and proceed to the next step in the booking modal.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in the 'Nombre completo' and 'Correo electrÃ³nico' fields with valid data and reattempt to proceed by clicking 'Siguiente'.\n        frame = context.pages[-1]\n        # Fill 'Nombre completo' field with valid name.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Juan PÃ©rez')\n        \n\n        frame = context.pages[-1]\n        # Fill 'Correo electrÃ³nico' field with valid email.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('juan.perez@example.com')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to validate participant data and proceed.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Clear and re-enter the age field with a valid number and then click 'Siguiente' to reattempt validation.\n        frame = context.pages[-1]\n        # Clear the 'Edad' field to remove invalid input.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Re-enter a valid age (25) in the 'Edad' field.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('25')\n        \n\n        frame = context.pages[-1]\n        # Click the 'Siguiente' button to validate participant data and proceed.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in the 'Personaliza tu experiencia' fields (height, weight, swimming ability, experience level, medical conditions) and proceed.\n        frame = context.pages[-1]\n        # Enter height in cm.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('170')\n        \n\n        frame = context.pages[-1]\n        # Enter weight in kg.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('70')\n        \n\n        frame = context.pages[-1]\n        # Toggle 'SÃ© nadar' checkbox to indicate swimming ability.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[3]/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Enter medical condition details.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[4]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ninguna lesiÃ³n o condiciÃ³n mÃ©dica.')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to the next step.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Siguiente' button to proceed to the next step (likely emergency contact or booking confirmation).\n        frame = context.pages[-1]\n        # Click the 'Siguiente' button to proceed from 'Personaliza tu experiencia' to the next step.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        try:\n            await expect(page.locator('text=Booking Completed Successfully!')).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test plan execution failed: Booking modal workflow test failed including participant data entry, session selection, and booking confirmation.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561615068001//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.632Z",
    "modified": "2026-01-28T15:30:13.678Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "eb63410b-41de-48eb-9648-c9e449db5a01",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC007-Booking State Preservation Across Navigation",
    "description": "Verify that booking data is preserved when the user navigates away and returns or logs in during the booking process.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click the 'Reservar ahora' button to open the booking modal and start entering participant details.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Navigate away from the booking page by clicking 'Inicio' link to test if booking data is preserved.\n        frame = context.pages[-1]\n        # Click 'Inicio' link to navigate away from booking page\n        elem = frame.locator('xpath=html/body/header/div/div/nav/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Navigate back to the booking page for class 3 by clicking 'Clases' then selecting the specific class or directly clicking the 'Reservar Ahora' button for class 3.\n        frame = context.pages[-1]\n        # Click 'Clases' link to navigate to classes listing\n        elem = frame.locator('xpath=html/body/header/div/div/nav/a[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Reservar Ahora' button for the class 3 (index 27) to reopen booking modal and check if previous booking data is preserved.\n        frame = context.pages[-1]\n        # Click 'Reservar Ahora' button for class 3 to reopen booking modal\n        elem = frame.locator('xpath=html/body/div[2]/main/section/div/div[2]/div/div[4]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Proceed to complete the reservation as guest by filling any remaining required participant details and submitting the booking form.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to proceed with booking as guest\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in the missing or incorrect participant details if any, then click 'Siguiente' button to proceed to the next step of the booking process.\n        frame = context.pages[-1]\n        # Fill in full name in booking form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Juan PÃ©rez')\n        \n\n        frame = context.pages[-1]\n        # Fill in email in booking form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('juan@ejemplo.com')\n        \n\n        frame = context.pages[-1]\n        # Fill in age in booking form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('25')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next booking step\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in the 'SÃ© nadar' checkbox and any injury details if applicable, then click 'Siguiente' to proceed to the next step.\n        frame = context.pages[-1]\n        # Check 'SÃ© nadar' checkbox\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[3]/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Fill injury details textarea with 'Ninguna lesiÃ³n'\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[4]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ninguna lesiÃ³n')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next booking step\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Navigate away from the booking page (e.g., click 'Inicio') to test if booking data is preserved at this step, then return to booking flow.\n        frame = context.pages[-1]\n        # Click 'Inicio' link to navigate away from booking page\n        elem = frame.locator('xpath=html/body/header/div/div/nav/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Navigate back to the booking page for class 3 by clicking 'Clases' link, then reopen booking modal and verify if booking data is preserved at this step.\n        frame = context.pages[-1]\n        # Click 'Clases' link to navigate to classes listing page\n        elem = frame.locator('xpath=html/body/header/div/div/nav/a[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Reservar Ahora' button for class 3 (index 27) to reopen booking modal and verify if booking data is preserved at this step.\n        frame = context.pages[-1]\n        # Click 'Reservar Ahora' button for class 3 to reopen booking modal\n        elem = frame.locator('xpath=html/body/div[2]/main/section/div/div[2]/div/div[4]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Reservar ahora' button to proceed with booking submission as guest and verify reservation creation success.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to proceed with booking submission as guest\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Correct the email input field by entering a valid email address and then click 'Siguiente' to proceed to the next step.\n        frame = context.pages[-1]\n        # Correct the email input field with a valid email address\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('juan.perez@example.com')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next booking step\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Booking data preserved successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Booking data was not preserved after navigating away and returning or logging in during the booking process as required by the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561907610206//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.637Z",
    "modified": "2026-01-28T15:30:13.686Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "a177ac56-6a09-4bf1-ab28-ac2bb1d20413",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC008-Reservation Management - Create, Update and Cancel",
    "description": "Validate the full lifecycle of a reservation including creation, updates to participant info/session and cancellation with status tracking.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click the 'Reservar ahora' button to open the booking modal for guest checkout.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click the 'Reservar ahora' button to open the booking modal\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill participant details in the booking modal for guest checkout.\n        frame = context.pages[-1]\n        # Close cookie banner to avoid interference with booking modal\n        elem = frame.locator('xpath=html/body/div[3]/div/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try to interact with the participant number dropdown to see if it triggers the booking flow or reveals participant details form.\n        frame = context.pages[-1]\n        # Click participant number dropdown to trigger booking flow or reveal participant details form\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/div[2]/div/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Reservar ahora' button to proceed with guest checkout and fill participant details.\n        frame = context.pages[-1]\n        # Click the 'Reservar ahora' button to proceed with guest checkout and fill participant details\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in participant details: full name, email, age, and select number of participants, then proceed by clicking 'Siguiente'.\n        frame = context.pages[-1]\n        # Fill full name in reservation form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Juan PÃ©rez')\n        \n\n        frame = context.pages[-1]\n        # Fill email in reservation form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('juan@ejemplo.com')\n        \n\n        frame = context.pages[-1]\n        # Fill age in reservation form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('25')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next step in reservation process\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in details: height, weight, swimming ability, experience level, medical conditions, then click 'Siguiente' to proceed.\n        frame = context.pages[-1]\n        # Fill height in cm\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('170')\n        \n\n        frame = context.pages[-1]\n        # Fill weight in kg\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('70')\n        \n\n        frame = context.pages[-1]\n        # Check 'SÃ© nadar' checkbox for swimming ability\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[3]/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Fill medical conditions\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[4]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ninguna lesiÃ³n o condiciÃ³n mÃ©dica')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next step\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill emergency contact name and phone, optionally apply discount code, then click 'Confirmar Reserva' to complete reservation.\n        frame = context.pages[-1]\n        # Fill emergency contact name\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Maria Lopez')\n        \n\n        frame = context.pages[-1]\n        # Fill emergency contact phone\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('+51987654321')\n        \n\n        frame = context.pages[-1]\n        # Click 'Confirmar Reserva' button to complete reservation\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Continuar como Invitado' button to finalize reservation as guest and verify reservation creation.\n        frame = context.pages[-1]\n        # Click 'Continuar como Invitado' button to finalize reservation as guest\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Confirmar Datos y Reservar' button to finalize and create the reservation.\n        frame = context.pages[-1]\n        # Click 'Confirmar Datos y Reservar' button to finalize and create the reservation\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[3]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Correct the 'Edad' field input to meet validation requirements and retry finalizing the reservation.\n        frame = context.pages[-1]\n        # Re-enter valid age value in 'Edad' field to fix validation error\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[2]/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('25')\n        \n\n        frame = context.pages[-1]\n        # Click 'Confirmar Datos y Reservar' button again to finalize reservation after correcting age\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[3]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Reservation Completed Successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The full lifecycle of a reservation could not be validated as the reservation creation, updates, or cancellation did not complete successfully according to the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561776075313//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.643Z",
    "modified": "2026-01-28T15:30:13.693Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "40453b69-784d-4a78-a970-4f43d6dea14b",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC009-Payment Voucher Upload and Admin Verification",
    "description": "Test payment voucher upload functionality and subsequent verification by admin with accurate status update in dashboard.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click the 'Reservar ahora' button to open the booking modal.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click the 'Reservar ahora' button to open the booking modal for booking.\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select number of participants and click 'Reservar ahora' to proceed with reservation.\n        frame = context.pages[-1]\n        # Select number of participants dropdown to choose 1 participant.\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/div[2]/div/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select '1 persona' from the dropdown and click 'Reservar ahora' to proceed with reservation.\n        frame = context.pages[-1]\n        # Select '1 persona' from the participants dropdown.\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/div[2]/div/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to proceed with reservation as guest.\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Siguiente' button to proceed with the reservation process.\n        frame = context.pages[-1]\n        # Click the 'Siguiente' button to proceed with the reservation.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill 'Nombre completo' and 'Correo electrÃ³nico' fields with valid guest data and retry clicking 'Siguiente'.\n        frame = context.pages[-1]\n        # Fill 'Nombre completo' field with valid guest name.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Juan PÃ©rez')\n        \n\n        frame = context.pages[-1]\n        # Fill 'Correo electrÃ³nico' field with valid guest email.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('juan.perez@example.com')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed after filling required fields.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try to correct the age input field by clearing and re-entering a valid age, then retry clicking 'Siguiente'. If still failing, report the issue and stop.\n        frame = context.pages[-1]\n        # Clear the 'Edad' input field to remove invalid age error.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Re-enter valid age '25' in the 'Edad' input field.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('25')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to retry proceeding with reservation after correcting age input.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill the 'Detalles' section fields as needed and proceed to the next step to complete the reservation.\n        frame = context.pages[-1]\n        # Confirm 'Altura (cm)' field is filled with 170.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('170')\n        \n\n        frame = context.pages[-1]\n        # Confirm 'Peso (kg)' field is filled with 70.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('70')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed from 'Detalles' section.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[4]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Siguiente' button to proceed from 'Detalles' section to the next step in the reservation process.\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed from 'Detalles' section.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[4]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        try:\n            await expect(page.locator('text=Payment Voucher Uploaded Successfully')).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Payment voucher upload functionality and subsequent verification by admin did not complete successfully. The voucher was not stored or linked correctly, or the payment status did not update to verified in the dashboard as expected.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561709698551//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.648Z",
    "modified": "2026-01-28T15:30:13.698Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "80e07bd3-02ff-431c-89dd-f4fe65876caa",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC010-Application of Discount Codes During Payment",
    "description": "Verify discount codes can be applied during payment, affecting the final amount and respecting expiration/usage rules.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click the 'Reservar ahora' button to open the booking modal.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to open booking modal for booking.\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control/button/img').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Discount Applied Successfully')).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Discount code application test failed as the test plan execution did not complete successfully. The expected discount application confirmation message was not found.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561306762918//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.654Z",
    "modified": "2026-01-28T15:30:13.704Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "13707062-e647-4071-84f9-2f3371cc298e",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC011-Role-based Access Control in Dashboards",
    "description": "Verify that students, instructors, school admins, and super admins only access data and controls appropriate to their roles and tenancy.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click on 'Iniciar SesiÃ³n' button to start login as student.\n        frame = context.pages[-1]\n        # Click on 'Iniciar SesiÃ³n' button to open login modal or page.\n        elem = frame.locator('xpath=html/body/header/div/div/div/a/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input student credentials and click 'Iniciar SesiÃ³n' to login as student.\n        frame = context.pages[-1]\n        # Input student email\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('student@test.com')\n        \n\n        frame = context.pages[-1]\n        # Input student password\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('student123')\n        \n\n        frame = context.pages[-1]\n        # Click 'Iniciar SesiÃ³n' button to login as student\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Clear email and password fields, input correct student credentials, and attempt login again.\n        frame = context.pages[-1]\n        # Clear student email field\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Clear student password field\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Input correct student email\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('student1@example.com')\n        \n\n        frame = context.pages[-1]\n        # Input correct student password\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('correctpassword')\n        \n\n        frame = context.pages[-1]\n        # Click 'Iniciar SesiÃ³n' button to login as student\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try to login as instructor using known or default credentials or explore alternative login methods such as 'Continuar con Google' if available.\n        frame = context.pages[-1]\n        # Clear email field\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Clear password field\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Input instructor email\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('instructor@test.com')\n        \n\n        frame = context.pages[-1]\n        # Input instructor password\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('instructor123')\n        \n\n        frame = context.pages[-1]\n        # Click 'Iniciar SesiÃ³n' button to login as instructor\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try to login as school admin using known or default credentials or explore alternative login methods such as 'Continuar con Google' if available.\n        frame = context.pages[-1]\n        # Clear email field\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Clear password field\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Input school admin email\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@test.com')\n        \n\n        frame = context.pages[-1]\n        # Input school admin password\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n\n        frame = context.pages[-1]\n        # Click 'Iniciar SesiÃ³n' button to login as school admin\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try to login as super admin using known or default credentials or explore alternative login methods such as 'Continuar con Google' if available.\n        frame = context.pages[-1]\n        # Clear email field\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Clear password field\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Input super admin email\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('superadmin@test.com')\n        \n\n        frame = context.pages[-1]\n        # Input super admin password\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('superadmin123')\n        \n\n        frame = context.pages[-1]\n        # Click 'Iniciar SesiÃ³n' button to login as super admin\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try to use 'Continuar con Google' button to login if possible or explore guest checkout flow as alternative.\n        frame = context.pages[-1]\n        # Click 'Continuar con Google' button to attempt login via Google OAuth\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Test guest checkout flow as alternative to verify reservation creation without login.\n        await page.goto('http://localhost:3000/classes/3', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Click 'Reservar ahora' button to open booking modal for guest checkout.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to open booking modal for guest checkout\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[13]/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select '1 persona' option from the participant dropdown (index 40) and then click 'Reservar ahora' button (index 41) to complete guest reservation.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to submit guest reservation\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in 'Nombre completo', 'Correo electrÃ³nico', and 'Edad' fields with valid data and click 'Siguiente' to proceed.\n        frame = context.pages[-1]\n        # Input full name in reservation form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Juan PÃ©rez')\n        \n\n        frame = context.pages[-1]\n        # Input email in reservation form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('juan.perez@example.com')\n        \n\n        frame = context.pages[-1]\n        # Input age in reservation form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('30')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed with reservation\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Siguiente' or equivalent button to finalize reservation and verify reservation creation success.\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to finalize reservation\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[4]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Access Granted to All Roles').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test plan execution failed: Role-based access control verification failed. Users are not restricted to their appropriate data and controls as per their roles and tenancy.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/17695618836458//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.659Z",
    "modified": "2026-01-28T15:30:13.709Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "34e7db75-622b-4b36-816e-a6ce43beff16",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC012-Multi-tenant Data Isolation Verification",
    "description": "Ensure users and admins from one surf school cannot access data belonging to other schools.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click the 'Reservar ahora' button to open the booking modal.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control/button/img').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try clicking the 'Reservar ahora' button again or accept cookies to remove potential overlay blocking interaction.\n        frame = context.pages[-1]\n        # Click 'Aceptar todas' button to accept cookies and remove overlay blocking interaction\n        elem = frame.locator('xpath=html/body/div[3]/div/div/div[2]/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Retry clicking 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Reservar ahora' button to open the booking modal for guest checkout.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in a valid email address and click 'Siguiente' to proceed to the next step of the booking process.\n        frame = context.pages[-1]\n        # Correct the email field with a valid email address\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('juan.perez@example.com')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next booking step\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill the 'Nombre completo' field with a valid name and click 'Siguiente' to proceed with the booking.\n        frame = context.pages[-1]\n        # Fill 'Nombre completo' field with a valid name\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Juan PÃ©rez')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next booking step\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Correct the email and age fields to valid values accepted by the form and click 'Siguiente' again to proceed.\n        frame = context.pages[-1]\n        # Correct the email field to a valid local domain email\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('juan.perez@ejemplo.com')\n        \n\n        frame = context.pages[-1]\n        # Correct the age field to a valid age above minimum 8 years\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('30')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next booking step\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Correct the weight field to a valid value and click 'Siguiente' to proceed to the next step.\n        frame = context.pages[-1]\n        # Correct the weight field to a valid value\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('65')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next booking step\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in a valid emergency contact name and a valid emergency phone number, then click 'Confirmar Reserva' to complete the guest reservation.\n        frame = context.pages[-1]\n        # Fill emergency contact name\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Maria Lopez')\n        \n\n        frame = context.pages[-1]\n        # Fill valid emergency phone number\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('+51987654321')\n        \n\n        frame = context.pages[-1]\n        # Click 'Confirmar Reserva' button to complete the reservation\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Login as a school admin for School A to verify dashboard displays only School A data.\n        frame = context.pages[-1]\n        # Click 'Iniciar SesiÃ³n' button to login as admin for School A\n        elem = frame.locator('xpath=html/body/header/div/div/div/a/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input admin credentials and click 'Iniciar SesiÃ³n' to login as School A admin.\n        frame = context.pages[-1]\n        # Input admin email\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@test.com')\n        \n\n        frame = context.pages[-1]\n        # Input admin password\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n\n        frame = context.pages[-1]\n        # Click 'Iniciar SesiÃ³n' button to login as admin\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Verify if there is an alternative way to login or reset password, or report issue with admin login credentials.\n        frame = context.pages[-1]\n        # Click 'Â¿Olvidaste tu contraseÃ±a?' link to attempt password reset or recovery\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/div/form/div[4]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Register a new user as a student assigned to 'Escuela de Yos' to test data isolation for School A.\n        frame = context.pages[-1]\n        # Select 'Estudiante' profile\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/form/div[2]/div/label').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Input full name for new user\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/form/div[4]/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Test User A')\n        \n\n        frame = context.pages[-1]\n        # Input email for new user\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/form/div[4]/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('testusera@example.com')\n        \n\n        frame = context.pages[-1]\n        # Input password for new user\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/form/div[4]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('password123')\n        \n\n        frame = context.pages[-1]\n        # Click 'Crear Cuenta' to register new user\n        elem = frame.locator('xpath=html/body/div[2]/div/div[2]/form/div[5]/p/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=Bienvenido de vuelta').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Inicia sesiÃ³n para continuar').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Correo ElectrÃ³nico').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=ContraseÃ±a').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Â¿Olvidaste tu contraseÃ±a?').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Iniciar SesiÃ³n').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Â¿No tienes una cuenta? RegÃ­strate aquÃ­').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Al iniciar sesiÃ³n, aceptas nuestros TÃ©rminos de Servicio y PolÃ­tica de Privacidad').first).to_be_visible(timeout=30000)\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769562003112613//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.664Z",
    "modified": "2026-01-28T15:30:13.716Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "58961e64-c2b5-4ebe-8b0f-bbcdd29bfc78",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC013-Email Notifications Triggered on Key User Actions",
    "description": "Test that email notifications are sent correctly for welcome emails, reservation confirmations, cancellations, payment receipts, and reminders.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Open the booking modal by clicking the 'Reservar ahora' button to start the reservation process.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select '1 persona' from the participant dropdown (index 55) and then click 'Reservar ahora' button (index 56) to proceed with reservation.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to proceed with reservation\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/div[2]/div/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Email Notification Success').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError('Test case failed: Email notifications for welcome emails, reservation confirmations, cancellations, payment receipts, and reminders were not sent correctly as per the test plan.')\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561415368231//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.673Z",
    "modified": "2026-01-28T15:30:13.722Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "789feeeb-2d24-4374-9e01-1ad16d7c9be2",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC014-In-App Real-Time Notifications Functionality",
    "description": "Verify notifications appear in real-time in the notification center UI, can be marked read and status updates persist.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Open the booking modal by clicking the 'Reservar ahora' button to start guest reservation\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Reservar ahora' button to complete the reservation as guest and trigger notification\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to complete guest reservation\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in personal details: name, email, age, and confirm participant count, then click 'Siguiente' to proceed\n        frame = context.pages[-1]\n        # Fill in full name\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Juan PÃ©rez')\n        \n\n        frame = context.pages[-1]\n        # Fill in email address\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('juan@ejemplo.com')\n        \n\n        frame = context.pages[-1]\n        # Fill in age\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('25')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next step\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill experience details (height, weight, swimming level, injuries) and click 'Siguiente' to proceed\n        frame = context.pages[-1]\n        # Fill height in cm\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('170')\n        \n\n        frame = context.pages[-1]\n        # Fill weight in kg\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('70')\n        \n\n        frame = context.pages[-1]\n        # Check 'SÃ© nadar' checkbox\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[3]/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Fill injury details\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[4]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ninguna lesiÃ³n')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next step\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[4]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Siguiente' or equivalent button to proceed to final reservation confirmation and complete the booking\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next step or complete reservation\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[4]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Notification Center Updated Successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Notification did not appear in real-time, could not be marked as read, or status updates did not persist as required by the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561590490489//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.678Z",
    "modified": "2026-01-28T15:30:13.727Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "799062e8-817b-4151-94a1-5aacc6909c4f",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC015-Admin Management of Classes, Instructors, and Users",
    "description": "Verify that authorized admins can create, update, and soft delete classes, instructors, and users with proper role and data validation.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Open the booking modal by clicking the 'Reservar ahora' button.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control/button/img').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Unauthorized admin access attempt detected')).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test plan execution failed: Authorized admins must be able to create, update, and soft delete classes, instructors, and users with proper role and data validation. This failure indicates the test did not pass these critical validations.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561313950497//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.684Z",
    "modified": "2026-01-28T15:30:13.733Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "f61dfa0b-bc5a-4bac-8762-8c9f18070c99",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC016-Product and Beach/Location Management",
    "description": "Test that products (equipment) and beach location data can be created, updated, and displayed correctly.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click the 'Reservar ahora' button to open the booking modal.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click the 'Reservar ahora' button to open the booking modal for booking.\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[13]/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select 1 participant from the dropdown and then click 'Reservar ahora' button to proceed with booking as guest.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to proceed with booking as guest.\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill participant details: full name, email, age, then click 'Siguiente' to proceed.\n        frame = context.pages[-1]\n        # Input full name in booking form.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Test User')\n        \n\n        frame = context.pages[-1]\n        # Input email in booking form.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('testuser@example.com')\n        \n\n        frame = context.pages[-1]\n        # Input age in booking form.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('30')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next booking step.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in height, weight, select swimming level, optionally add medical condition, then click 'Siguiente' to proceed.\n        frame = context.pages[-1]\n        # Input height in cm.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('170')\n        \n\n        frame = context.pages[-1]\n        # Input weight in kg.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('70')\n        \n\n        frame = context.pages[-1]\n        # Input medical condition or injury details.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[4]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ninguna')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next booking step.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Siguiente' button to proceed to the next booking step (Emergency contact details).\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to Emergency contact details step.\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        try:\n            await expect(page.locator('text=Booking Completed Successfully!')).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError('Test plan execution failed: Unable to create, update, and display products and beach location data correctly as required by the test plan.')\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561493433456//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.690Z",
    "modified": "2026-01-28T15:30:13.739Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "e64a97f0-0cac-4571-8380-6045addfed87",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC017-Image Upload with Cloudinary and Fallback",
    "description": "Verify that images can be uploaded successfully to Cloudinary and fallback to local storage is handled correctly upon failure.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click the 'Reservar ahora' button to open the booking modal\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/div[2]/div/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select '1 persona' from the participant dropdown and click 'Reservar ahora' to proceed with guest booking\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to proceed with booking\n        elem = frame.locator('xpath=html/body/div[3]/div/div/div/div/div[2]/h3').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Accept cookies to dismiss the banner and continue with guest checkout flow\n        frame = context.pages[-1]\n        # Click 'Aceptar todas' button to accept cookies and dismiss banner\n        elem = frame.locator('xpath=html/body/div[3]/div/div/div[2]/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Scroll to and locate the 'Reservar ahora' button again and click it to proceed with guest checkout\n        await page.mouse.wheel(0, 300)\n        \n\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to proceed with guest checkout\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[15]/div/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Reservar ahora' button at index 44 to complete the guest booking and create the reservation\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to complete guest booking\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div/section[4]/div/div[2]/div/div[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Image uploaded to Cloudinary successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Image upload to Cloudinary did not succeed and fallback to local storage was not handled correctly as per the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561489164955//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.697Z",
    "modified": "2026-01-28T15:30:13.744Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "e52ba816-7ed4-43f2-92d1-cb55bda07f3f",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC018-Statistics Dashboard Data Accuracy",
    "description": "Validate that analytics and statistics on school dashboards display accurate data about classes, reservations, and revenue.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click the 'Reservar ahora' button to open the booking modal for guest checkout.\n        frame = context.pages[-1].frame_locator('html > body > div:nth-of-type(2) > div:nth-of-type(2) > div:nth-of-type(3) > div > section:nth-of-type(4) > div > div > iframe.w-full.h-full.grayscale-10.transition-all.duration-700[src=\"https://maps.google.com/maps?q=Playa%20Playa%20M%C3%A1ncora%2C%20M%C3%A1ncora%2C%20Piura&t=&z=15&ie=UTF8&iwloc=&output=embed\"][title=\"UbicaciÃ³n de la clase\"][aria-label=\"Mapa mostrando la ubicaciÃ³n en Playa MÃ¡ncora\"]')\n        # Click 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div/div/div[3]/div[12]/div/gmp-internal-camera-control/button/img').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Reservar ahora' button (index 39) to open the booking modal for guest checkout.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/div[2]/div/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Close cookie banner to avoid interference, then locate and fill participant details input fields in the booking modal.\n        frame = context.pages[-1]\n        # Click 'Cerrar banner de cookies' button to close cookie consent banner\n        elem = frame.locator('xpath=html/body/div[3]/div/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        await page.mouse.wheel(0, 300)\n        \n\n        # -> Click 'Reservar ahora' button to attempt to complete reservation as guest with selected participant number.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to complete reservation as guest\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill participant details in the reservation form modal and click 'Siguiente' to proceed.\n        frame = context.pages[-1]\n        # Input full name in reservation form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('John Doe')\n        \n\n        frame = context.pages[-1]\n        # Input email in reservation form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('john.doe@example.com')\n        \n\n        frame = context.pages[-1]\n        # Input age in reservation form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('30')\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed with reservation\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Siguiente' button to proceed to the next step in the reservation process.\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next step in reservation process\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input valid emergency contact name and phone number, then click 'Confirmar Reserva' button to complete guest reservation.\n        frame = context.pages[-1]\n        # Input valid emergency contact name\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Jane Doe')\n        \n\n        frame = context.pages[-1]\n        # Input valid emergency phone number\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('+51987654321')\n        \n\n        frame = context.pages[-1]\n        # Click 'Confirmar Reserva' button to complete reservation\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Continuar como Invitado' button to finalize the reservation as guest and verify reservation creation.\n        frame = context.pages[-1]\n        # Click 'Continuar como Invitado' button to finalize reservation as guest\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Confirmar Datos y Reservar' button to finalize the reservation and complete the guest checkout flow.\n        frame = context.pages[-1]\n        # Click 'Confirmar Datos y Reservar' button to finalize reservation\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[3]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Clear and input a valid age value (e.g., 25) in the age field, then click 'Confirmar Datos y Reservar' button again to proceed.\n        frame = context.pages[-1]\n        # Clear the age input field to fix validation error\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[2]/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Input valid age value to fix validation error\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[2]/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('25')\n        \n\n        frame = context.pages[-1]\n        # Click 'Confirmar Datos y Reservar' button to finalize reservation\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[3]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input valid height and weight values, then click 'Confirmar Datos y Reservar' button again to try to proceed.\n        frame = context.pages[-1]\n        # Input valid height in cm\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[2]/div/div[2]/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('170')\n        \n\n        frame = context.pages[-1]\n        # Input valid weight in kg\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[2]/div/div[2]/div[3]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('70')\n        \n\n        frame = context.pages[-1]\n        # Click 'Confirmar Datos y Reservar' button to finalize reservation\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[3]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try clearing and re-entering the age field with a different valid value (e.g., 26) and click 'Confirmar Datos y Reservar' button again to test if validation error clears.\n        frame = context.pages[-1]\n        # Clear the age input field to reset validation\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[2]/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n\n        frame = context.pages[-1]\n        # Input a different valid age value to test validation\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[2]/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('26')\n        \n\n        frame = context.pages[-1]\n        # Click 'Confirmar Datos y Reservar' button to try to proceed with new age value\n        elem = frame.locator('xpath=html/body/div[2]/div/div[3]/div/div/div/div[3]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Reservation Data Verified Successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Analytics and statistics on school dashboards do not display accurate data about classes, reservations, and revenue as per the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561863793796//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.703Z",
    "modified": "2026-01-28T15:30:13.750Z"
  },
  {
    "projectId": "97f2cf4a-5280-4ddf-8405-feaec9f49c19",
    "testId": "abf6f5f9-17d2-467a-9649-fa1c4d1a39df",
    "userId": "f4083458-a061-702f-db2d-f9cf41ab9fa4",
    "title": "TC019-Reservation Cancellation Email and Notification",
    "description": "Ensure that when a reservation is cancelled, proper cancellation email and in-app notification are sent to the user.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000/classes/3\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Open the booking modal to start the reservation process.\n        frame = context.pages[-1]\n        # Click 'Aceptar todas' to accept cookies and remove cookie banner\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[2]/div[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Reservar ahora' button (index 39) to open the booking modal and start the guest checkout flow.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' button to open booking modal\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/div[2]/div/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill participant details as guest and complete the reservation.\n        frame = context.pages[-1]\n        # Click 'Reservar ahora' to proceed to participant details form\n        elem = frame.locator('xpath=html/body/div[2]/div[2]/div[3]/div[2]/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Siguiente' button to proceed to the next step of the reservation process.\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed to next step in reservation form\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try to input email and age fields using keyboard events or other alternative methods, or report the issue if no progress.\n        frame = context.pages[-1]\n        # Click email field to focus\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Click age field to focus\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div[2]/div/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed after typing participant details\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try to select the 'Participantes' dropdown to a valid option and re-enter the age field using keyboard input, then try to proceed again.\n        frame = context.pages[-1]\n        # Click age field to focus\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/form/div/div[2]/div[3]/div[2]/div/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Click 'Siguiente' button to proceed after re-entering age and selecting participants\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Reservation Cancellation Confirmed').first).to_be_visible(timeout=30000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The reservation cancellation did not trigger the expected cancellation email and in-app notification as per the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test execution timed out after 15 minutes",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4083458-a061-702f-db2d-f9cf41ab9fa4/1769561645611826//tmp/test_task/result.webm",
    "created": "2026-01-28T00:45:16.709Z",
    "modified": "2026-01-28T15:30:13.755Z"
  }
]
